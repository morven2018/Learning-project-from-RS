(()=>{"use strict";const e=["10101","11000","01101","00111","10010"],t=document.querySelector("body");function l(e,t){const l=Array(t).fill([]);for(let s=0;s<t;s+=1)l[s]=Array.from(e[s].split(""));return l}function s(e,t,l=!0){const s=Array(t);if(l)for(let l=0;l<t;l+=1){let o=[],c=0;for(let s=0;s<t;s+=1)"1"===e[s][l]?(c+=1,s+1===t&&o.push(c)):(c>0&&o.push(c),c=0);s[l]=o}else for(let l=0;l<t;l+=1){let o=[],c=0;for(let s=0;s<t;s+=1)"1"===e[l][s]?(c+=1,s+1===t&&o.push(c)):(c>0&&o.push(c),c=0);s[l]=o}return s}function o(e,t,l=!0){const s=l?"field__attempt__top-attempt":"field__attempt__left-attempt",o=l?"field__attempt__top-attempt__cell":"field__attempt__left-attempt__cell",c=function(e){let t=0;return e.forEach((e=>t=t<e.length?e.length:t)),t}(e),a=l?`height: ${20*c+10*(c-1)}px`:`width: ${20*c+10*(c-1)}px`;e.forEach(((c,r)=>{const n=document.createElement("div");if(n.className=s,t.append(n),n.setAttribute("style",a),0===r&&l&&n.setAttribute("style","border-left: 2px solid black"),0!==r||l||n.setAttribute("style","border-top: 2px solid black"),r+1!==e.length&&r%5!=4||l||n.setAttribute("style"," border-bottom: 2px solid black; height:21px"),!l||r+1!==e.length&&r%5!=4||n.setAttribute("style","border-right: 2px solid black; width:20px"),c.length)c.forEach((e=>{const t=document.createElement("div");t.className=o,t.textContent=e,n.append(t)}));else{const e=document.createElement("div");e.className=o,e.textContent="0",n.append(e)}}))}function c(t){const s=a(t),o=l(e,t);return s.every(((e,t)=>e.every(((e,l)=>"-1"===e||e===o[t][l]))))}function a(e){const t=document.querySelectorAll(".game-field__cell"),l=Array(e);for(let s=0;s<e;s+=1){l[s]=[];for(let o=0;o<e;o+=1)t[s*e+o].classList.contains("game-field__cell_checked")&&l[s].push("1"),t[s*e+o].classList.contains("game-field__cell_crossed")&&l[s].push("0"),t[s*e+o].classList.contains("game-field__cell_unknown")&&l[s].push("-1")}return l}const r={Easy:5,Medium:10,Hard:15};let n="Easy";const d=document.querySelector("body");function i(e){console.log("clear"),["game-field__cell_unknown","game-field__cell_checked","game-field__cell_crossed"].forEach((t=>{e.classList.contains(t)&&e.classList.remove(t)}))}window.onload=function(c,a="Easy"){d.classList.add("start-page"),function(c){const a=l(e,c);console.log(1,a);const r=document.createElement("div");r.className="field",t.append(r);const n=document.createElement("div");n.className="field-extra",r.append(n);const d=document.createElement("div");d.className="field__attempt",n.append(d);const i=document.createElement("div");i.className="field__additional",r.append(i);const _=document.createElement("div");_.className="field__attempt",i.append(_);const m=document.createElement("div");m.className="game-field",i.append(m);const p=s(a,c,!0),u=s(a,c,!1);o(p,d,!0),o(u,_,!1),console.log(2,p),console.log(3,u),function(e,t,l){for(let e=0;e<t;e+=1)for(let s=0;s<t;s+=1){const o=document.createElement("div");o.classList.add("game-field__cell"),o.classList.add("game-field__cell_unknown"),l.append(o),e!==t-1&&e%5!=4||o.setAttribute("style","border-bottom: 2px solid black"),s!==t-1&&e%5!=4||(o.setAttribute("style","border-right: 2px solid black"),e===t-1&&o.setAttribute("style","border-bottom: 2px solid black;  border-right: 2px solid black")),0===s&&(o.setAttribute("style","border-left: 2px solid black"),e===t-1&&o.setAttribute("style","border-bottom: 2px solid black;  border-right: 2px solid black; border-left: 2px solid black")),0===e&&(o.setAttribute("style","border-top: 2px solid black"),0===s&&o.setAttribute("style","border-top: 2px solid black; border-left: 2px solid black; "),s===t-1&&o.setAttribute("style","border-top: 2px solid black; border-right: 2px solid black; "))}}(0,c,m)}(r[a])},d.addEventListener("click",(t=>{"game-field__cell"===t.target.classList[0]&&(t.target.classList.contains("game-field__cell_checked")?(i(t.target),t.target.classList.add("game-field__cell_unknown")):(i(t.target),t.target.classList.add("game-field__cell_checked")),c(r[n])&&function(t){const s=a(t),o=l(e,t);return s.every(((e,t)=>e.every(((e,l)=>"0"===("-1"===e&&o[t][l])||e===o[t][l]))))}(r[n])?console.log("You win!"):c(r[n])||console.log("Make error"))})),d.addEventListener("contextmenu",(e=>{"game-field__cell"===e.target.classList[0]&&(e.target.classList.contains("game-field__cell_crossed")?(i(e.target),e.target.classList.add("game-field__cell_unknown")):(i(e.target),e.target.classList.add("game-field__cell_crossed")),c(r[n])||console.log("Make error cross"),e.preventDefault())}))})();