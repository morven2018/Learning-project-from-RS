(()=>{"use strict";var t={11:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(601),o=n.n(i),l=n(314),s=n.n(l)()(o());s.push([t.id,":root{background-color:#5c5c5c;box-sizing:content-box}body{background-color:#d8f1eb;max-width:1000px;margin:auto;transform:translateY(25%);border-radius:5px}body .icon{width:24px;height:24px;pointer-events:none}body header{color:#5e35b1;text-align:center;padding:30px;font-size:36px}body button{border:1px solid #a0c0cb;background-color:#b388ff;padding:6px;border-radius:5px;cursor:pointer}body button:hover,body button:focus{background-color:#8a4fff;border-color:#2e2e2e}",""]);const a=s},21:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,l){function s(t){try{r(i.next(t))}catch(t){l(t)}}function a(t){try{r(i.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}r((i=i.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const l=o(n(515)),s=n(427),a=o(n(54)),r=o(n(879)),d=o(n(746)),u=o(n(262));n(188);const c=o(n(595)),m=o(n(103)),h=o(n(753)),f=o(n(901)),p=o(n(147)),g=o(n(350)),b=o(n(478)),v=c.default.toString(),_=m.default.toString(),N=h.default.toString(),x=f.default.toString(),w=p.default.toString(),C=g.default.toString();class E extends l.default{constructor(t,e){var n;super({tag:"section",classNames:["index"]}),this.state=t,this.router=e,this.configureView(),null===(n=this.list)||void 0===n||n.loadFromLocalStorage()}configureView(){(0,s.isNotNullable)(this.viewElementCreator)&&(this.addList(),this.addButton({tag:"button",classNames:["add-list-element__button"],textContent:"",title:"Add Option",callback:()=>{var t;null===(t=this.list)||void 0===t||t.addElement({id:this.list.nextId.toString(),title:"",weight:""})},imageURL:v}),this.addButton({tag:"button",classNames:["paste-list__button"],textContent:"",title:"Paste List",callback:()=>this.handlePasteList(),imageURL:_}),this.addButton({tag:"button",classNames:["clear-list__button"],textContent:"",title:"Clear List",callback:()=>{var t;return null===(t=this.list)||void 0===t?void 0:t.clearList(!0)},imageURL:N}),this.addButton({tag:"button",classNames:["save__button"],textContent:"",title:"Save list to the file",callback:()=>this.saveJSON(),imageURL:x}),this.addButton({tag:"button",classNames:["upload__button"],textContent:"",title:"Load list from file",callback:()=>this.uploadJSON(),imageURL:w}),this.addButton({tag:"button",classNames:["start__button"],textContent:"",title:"Start",callback:()=>{var t,e,n,i,o,l;if((0,s.isNotNullable)(null===(t=this.list)||void 0===t?void 0:t.elements)&&this.list.elements.length>1)this.router.navigateTo("#/decision-picker");else{const t="There are should at least 2 list option",a=new u.default({message:t,onClose:()=>{(0,s.isNotNullable)(a.viewElementCreator)&&(0,s.isNotNullable)(a.viewElementCreator.element)&&a.viewElementCreator.element.remove()}});(0,s.isNotNullable)(null===(e=a.viewElementCreator)||void 0===e?void 0:e.element)&&"string"!=typeof(null===(n=a.viewElementCreator)||void 0===n?void 0:n.element)&&(null===(o=null===(i=this.viewElementCreator)||void 0===i?void 0:i.element)||void 0===o||o.append(null===(l=a.viewElementCreator)||void 0===l?void 0:l.element))}},imageURL:C}))}saveJSON(){var t;if((0,s.isNotNullable)(this.list)){const e=d.default.toJSON(this.list.getElements(),null===(t=this.list)||void 0===t?void 0:t.nextId),n=JSON.stringify(e),i=new Blob([n],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download="option-list.json",o.click(),URL.revokeObjectURL(o.href)}}uploadJSON(){console.log("upload");const t=document.createElement("input");t.type="file",t.accept=".json",t.addEventListener("change",(t=>{(()=>i(this,void 0,void 0,(function*(){var e;if(t.target instanceof HTMLInputElement){const n=null===(e=t.target.files)||void 0===e?void 0:e[0];if(console.log("upload",n),(0,s.isNotNullable)(n))try{const t=yield n.text(),e=JSON.parse(t);if(console.log("upload",e),(0,s.isNotNullable)(this.list)){const t=d.default.fromJSON(e);if((0,s.isNotNullable)(t)&&d.default.isIJSONObject(t)){for(const e of t.list)if(d.default.isIElementInfo(e)){const t=this.list.addElement(e);(0,s.isNotNullable)(t)&&this.list.elements.push(t)}this.list.nextId=t.lastId+1,r.default.saveToLocalStorage(this.list.elements,this.list.nextId)}}}catch(t){console.error(t)}}})))().catch((t=>{console.error(t)}))})),t.click()}addList(){const t={tag:"ul",classNames:["list-of-option"],textContent:""};this.list=new a.default(t,this.state),this.list.state.setListCreator(this.list),(0,s.isNotNullable)(this.viewElementCreator)&&this.viewElementCreator.addInnerElement(this.list)}handlePasteList(){var t,e,n,i,o;const l=new b.default({message:"",onClose:()=>{(0,s.isNotNullable)(l.viewElementCreator)&&(0,s.isNotNullable)(l.viewElementCreator.element)&&l.viewElementCreator.element.remove()},onSubmit:t=>{var e,n;if((0,s.isNotNullable)(this.list)){null===(e=this.list)||void 0===e||e.clearList();for(const e of t){const[t,i]=e.split(",").map((t=>t.trim()));console.log(t,i),null===(n=this.list)||void 0===n||n.addElement({id:this.list.nextId.toString(),title:t,weight:i})}}}});(0,s.isNotNullable)(null===(t=l.viewElementCreator)||void 0===t?void 0:t.element)&&"string"!=typeof(null===(e=l.viewElementCreator)||void 0===e?void 0:e.element)&&(null===(i=null===(n=this.viewElementCreator)||void 0===n?void 0:n.element)||void 0===i||i.append(null===(o=l.viewElementCreator)||void 0===o?void 0:o.element)),l.showModal()}}e.default=E},54:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(879)),l=i(n(75)),s=i(n(536)),a=n(427),r=i(n(746));n(723);const d=i(n(977)).default.toString(),u="list__element",c="list__element__input-title",m="number",h=/^[\d.]+$/;class f extends s.default{constructor(t,e){super(t),this.nextId=1,this.elements=[],this.createElement(t),this.state=e,this.clearList();const n=localStorage.getItem("optionList");if((0,a.isNotNullable)(n))try{const t=JSON.parse(n);if((0,a.isNotNullable)(t)){const e=r.default.fromJSON(t);if((0,a.isNotNullable)(e)&&r.default.isIJSONObject(e))for(const t of e.list)if(r.default.isIElementInfo(t)){const n=this.addElement(t);(0,a.isNotNullable)(n)&&this.elements.push(n),this.nextId=e.lastId+1}}}catch(t){console.error(t)}else{this.nextId=1;const t={id:this.nextId.toString(),title:"",weight:""},e=this.addElement(t);(0,a.isNotNullable)(e)&&this.elements.push(e),this.nextId+=1}this.setOnInputChangeCallback((()=>{console.log("save change"),o.default.saveToLocalStorage(this.elements,this.nextId)})),window.addEventListener("beforeunload",(()=>{this.clearList()}))}static addId(t,e){const n={tag:"div",classNames:["list__element__id"],textContent:`#${e}`,id:Number(e)},i=new s.default(n);return t.addInnerElement(i),i}createElement(t){super.createElement(t);const e={id:String(this.nextId),title:"",weight:""};this.addElement(e)}addElement(t){var e,n,i;const r={tag:"li",classNames:[u,`${u}-${t.id}`],textContent:""},h=new s.default(r);null===(e=h.element)||void 0===e||e.setAttribute("id",null===(n=t.id)||void 0===n?void 0:n.toString()),f.addId(h,t.id);const p=this.addInput(h,c,{type:"text",minlength:"2",maxlength:"80",placeholder:"name of option"});p.element instanceof HTMLInputElement&&t.title&&(p.element.value=t.title);const g=this.addInput(h,c,{type:m,min:"0",max:"100000",placeholder:"weight"});g.element instanceof HTMLInputElement&&t.weight&&(g.element.value=t.weight);const b={tag:"button",classNames:["list__element__delete-element-button"],textContent:"",title:"delete item",callback:()=>{var t;const e=null===(t=h.element)||void 0===t?void 0:t.getAttribute("id");e&&(this.removeElementById(e),console.log("delete save"),o.default.saveToLocalStorage(this.elements,this.nextId))},imageURL:d},v=new l.default(b);return h.addInnerElement(v),(0,a.isNotNullable)(h.element)&&(null===(i=this.elements)||void 0===i||i.push(h.element),this.addInnerElement(h),this.nextId+=1),h.element}removeElementById(t){const e=this.elements.findIndex((e=>e.getAttribute("id")===t));-1!==e&&(this.elements[e].remove(),this.elements.splice(e,1),o.default.saveToLocalStorage(this.elements,this.nextId))}clearList(t=!1){if(this.elements)for(const t of this.elements)t.remove();this.elements=[],this.nextId=1,t&&o.default.saveToLocalStorage(this.elements,this.nextId)}setOnInputChangeCallback(t){this.onInputChangeCallback=t}loadFromLocalStorage(){const t=localStorage.getItem("optionList");if((0,a.isNotNullable)(t))try{const e=JSON.parse(t);(0,a.isNotNullable)(this)&&r.default.fromJSON(e)}catch(t){console.error(t)}}getElements(){return this.elements}addInput(t,e,n){var i,o;const l={tag:"input",classNames:[e],textContent:""},r=new s.default(l);t.addInnerElement(r);for(const t in n)(0,a.isNotNullable)(n[t])&&(null===(i=r.element)||void 0===i||i.setAttribute(t,n[t]));return null===(o=r.element)||void 0===o||o.setAttribute("id",`${e}_${this.nextId}`),r.element instanceof HTMLInputElement&&r.element.addEventListener("input",(()=>{(0,a.isNotNullable)(r.element)&&r.element.getAttribute("type")===m&&r.element instanceof HTMLInputElement&&(!h.test(r.element.value)||r.element.value.length>6)&&(r.element.value=""),this.onInputChangeCallback&&this.onInputChangeCallback()})),r}}e.default=f},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var l={},s=[],a=0;a<t.length;a++){var r=t[a],d=i.base?r[0]+i.base:r[0],u=l[d]||0,c="".concat(d," ").concat(u);l[d]=u+1;var m=n(c),h={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==m)e[m].references++,e[m].updater(h);else{var f=o(h,i);i.byIndex=a,e.splice(a,0,{identifier:c,updater:f,references:1})}s.push(c)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var l=i(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<l.length;s++){var a=n(l[s]);e[a].references--}for(var r=i(t,o),d=0;d<l.length;d++){var u=n(l[d]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}l=r}}},73:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),new(i(n(859)).default)},75:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(536));class l extends o.default{createElement(t){var e,n,i,o;if(super.createElement(t),t.id&&(null===(e=this.element)||void 0===e||e.setAttribute("id",t.id.toString())),t.title&&(null===(n=this.element)||void 0===n||n.setAttribute("title",t.title),null===(i=this.element)||void 0===i||i.setAttribute("aria-label",t.title)),t.imageURL){const e=document.createElement("img");e.src=t.imageURL,e.alt=t.title||"Icon",null===(o=this.element)||void 0===o||o.append(e),e.className="icon"}}}e.default=l},103:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/paste.png"},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},147:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/upload.png"},165:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/home.png"},188:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var i=n(72),o=n.n(i),l=n(825),s=n.n(l),a=n(659),r=n.n(a),d=n(56),u=n.n(d),c=n(540),m=n.n(c),h=n(113),f=n.n(h),p=n(549),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=r().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=m(),o()(p.A,g);const b=p.A&&p.A.locals?p.A.locals:void 0},257:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(515)),l=n(427);class s extends o.default{constructor(){super({tag:"header",classNames:["header"]}),this.configureView()}configureView(){(0,l.isNotNullable)(this.viewElementCreator)&&this.viewElementCreator.setTextContent("Decision Making Tool")}}e.default=s},262:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(75)),l=i(n(296));class s extends l.default{constructor(t){super(t),this.onClose=t.onClose,this.addButton()}addButton(){var t;const e={tag:"button",classNames:["form__button_close"],textContent:"Close",callback:()=>this.onClose(),imageURL:""},n=new o.default(e);null===(t=this.viewElementCreator)||void 0===t||t.addInnerElement(n)}}e.default=s},266:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(847),l=i(n(536)),s=n(427),a="#b388ff",r={COLOR:"white",FONT:"16px Arial",ALIGN:o.TextAlign.Center,BASELINE:o.TextBaseline.Middle};class d extends l.default{constructor(t,e,n,i){if(super(t),this.rotationAngle=0,this.animationStartTime=void 0,this.animationDuration=1e4,this.isAnimating=!1,this.sectionColors=[],this.area=void 0,this.valueList=e,this.area=i,(0,s.isNotNullable)(this.area.element)&&(this.area.element.textContent=Object.keys(e)[0]),this.sectionColors=Object.keys(e).map((()=>d.randomColor())),(0,s.isNotNullable)(this.element)&&this.element instanceof HTMLCanvasElement){this.element.setAttribute("width","400"),this.element.setAttribute("height","400"),console.log(n);const t=this.element.getContext("2d");t&&this.drawWheel(t)}}static drawArrow(t,e,n,i,o,l,s=25){const r=i-e,d=o-n,u=Math.atan2(d,r);t.save(),t.strokeStyle=a,t.lineWidth=5,t.fillStyle=l;const c=(e+i)/2,m=(n+o)/2,h=s*Math.sin(Math.PI/6)/2;t.beginPath(),t.moveTo(c,m+h),t.lineTo(c-s*Math.cos(u-Math.PI/6),m-h+s*Math.sin(u-Math.PI/6)),t.lineTo(c-s*Math.cos(u+Math.PI/6),m-h+s*Math.sin(u+Math.PI/6)),t.closePath(),t.stroke(),t.fill(),t.restore()}static randomColor(){return`rgb(${Math.floor(106*Math.random())+50}, ${Math.floor(106*Math.random())+50}, ${Math.floor(106*Math.random())+50})`}startAnimation(){this.isAnimating||(this.animationStartTime=performance.now(),this.isAnimating=!0,this.animate())}updateArea(t){if(!this.area||!this.area.element)return;const e=this.getSelectedItem(t);this.area.element.textContent=e||""}highlightArea(){this.area&&this.area.element&&(this.area.element.style.backgroundColor="green")}getSelectedItem(t){const e=Object.values(this.valueList).reduce(((t,e)=>t+e),0);let n=t%(2*Math.PI);n<0&&(n+=2*Math.PI),n+=Math.PI/2;let i=0;for(const[t,o]of Object.entries(this.valueList)){const l=2*Math.PI*o/e;if(n>=i&&n<=i+l)return t;i+=l}}animate(){if(!(this.isAnimating&&this.element&&this.element instanceof HTMLCanvasElement))return;const t=this.element.getContext("2d");if(!t)return;const e=performance.now()-(this.animationStartTime||0);if(e>=this.animationDuration)return this.isAnimating=!1,this.rotationAngle=0,this.drawWheel(t),void this.highlightArea();const n=e/this.animationDuration;this.rotationAngle=n*Math.PI*4,t.clearRect(0,0,this.element.width,this.element.height),this.drawWheel(t),this.updateArea(this.rotationAngle),requestAnimationFrame((()=>this.animate()))}drawWheel(t){if((0,s.isNotNullable)(this.element)&&this.element instanceof HTMLCanvasElement){const e=this.element.width/2,n=this.element.height/2,i=Math.min(e,n)-20,o=this.angle();let l=this.rotationAngle;for(const[s,[d,u]]of Object.entries(this.valueList).entries()){t.beginPath(),t.moveTo(e,n),t.arc(e,n,i,l,l+o*u),t.lineTo(e,n),t.fillStyle=this.sectionColors[s],t.fill(),t.strokeStyle=a,t.stroke();const c=l+o*u/2,m=e+Math.cos(c)*(i/2),h=n+Math.sin(c)*(i/2);t.save(),t.fillStyle=r.COLOR,t.font=r.FONT,t.translate(m,h),t.rotate(c),t.textAlign=r.ALIGN,t.textBaseline=r.BASELINE,t.fillText(d,0,0),t.restore(),l+=o*u}d.drawArrow(t,e,50,e,20,"#7c8094")}}angle(){let t=0;for(const e of Object.values(this.valueList))t+=e;return 2*Math.PI/t}}e.default=d},283:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(21)),l=i(n(644)),s=i(n(637)),a=i(n(879)),r=n(427);e.default=class{constructor(t,e){this.mainView=t,this.state=e,this.setupRouting()}navigateTo(t){this.saveState(),globalThis.location.hash=t}setupRouting(){globalThis.addEventListener("hashchange",(()=>{this.saveState(),this.handleRoute()})),this.handleRoute()}handleRoute(){switch(globalThis.location.hash){case"#/decision-picker":case"decision-picker":this.mainView.setContent(new l.default(this.state));break;case"#/":case"#/index":case"":this.mainView.setContent(new o.default(this.state,this));break;default:this.mainView.setContent(new s.default)}}saveState(){if((0,r.isNotNullable)(this.mainView.state)){const t=this.mainView.state.getElements(),e=this.mainView.state.getNextId();(0,r.isNotNullable)(t)&&(0,r.isNotNullable)(e)&&a.default.saveToLocalStorage(t,e)}}}},296:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(515)),l=i(n(536)),s=i(n(75));class a extends o.default{constructor(t,e="div"){super({tag:e,classNames:["form-view"]}),console.log(t),this.onClose=t.onClose,this.configureView(t.message)}configureView(t=""){var e,n;const i={tag:"button",classNames:["form-view__close-button"],textContent:"X",callback:()=>this.onClose(),imageURL:""},o=new s.default(i);null===(e=this.viewElementCreator)||void 0===e||e.addInnerElement(o);const a={tag:"p",classNames:["form-view__message"],textContent:t},r=new l.default(a);null===(n=this.viewElementCreator)||void 0===n||n.addInnerElement(r)}}e.default=a},311:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(427),l=i(n(515));class s extends l.default{constructor(t){super({tag:"main",classNames:["main"]}),this.state=t}setContent(t){var e,n;const i=null===(e=this.viewElementCreator)||void 0===e?void 0:e.getElement();if((0,o.isNotNullable)(i)){for(;i.firstElementChild;)i.firstElementChild.remove();const e=t.getHtmlElement();(0,o.isNotNullable)(e)&&(null===(n=this.viewElementCreator)||void 0===n||n.addInnerElement(e))}}}e.default=s},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,l){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(s[r]=!0)}for(var d=0;d<t.length;d++){var u=[].concat(t[d]);i&&s[u[0]]||(void 0!==l&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=l),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},341:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(601),o=n.n(i),l=n(314),s=n.n(l)()(o());s.push([t.id,".not-found{width:max(150px,80%)}.not-found img{width:calc(100% - 30px)}",""]);const a=s},350:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/play.png"},374:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(536)),l=n(427),s=/^[\d]+$/,a={type:"number",placeholder:"5 - 30 seconds",value:"10"};class r extends o.default{createElement(t){var e,n,i;super.createElement(t),t.id&&(null===(e=this.element)||void 0===e||e.setAttribute("id","timer"));const r={tag:"label",classNames:["picker__timer__label"],textContent:"Timer"},d=new o.default(r);this.addInnerElement(d);const u={tag:"input",classNames:["picker__timer__input"],textContent:""},c=new o.default(u);for(const t in a)(0,l.isNotNullable)(a[t])&&(null===(n=c.element)||void 0===n||n.setAttribute(t,a[t]));null===(i=c.element)||void 0===i||i.addEventListener("input",(()=>{c.element instanceof HTMLInputElement&&(0,l.isNotNullable)(c.element.value)&&!s.test(c.element.value)&&(c.element.value="10".toString())})),this.addInnerElement(c)}}e.default=r},376:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var i=n(72),o=n.n(i),l=n(825),s=n.n(l),a=n(659),r=n.n(a),d=n(56),u=n.n(d),c=n(540),m=n.n(c),h=n(113),f=n.n(h),p=n(11),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=r().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=m(),o()(p.A,g);const b=p.A&&p.A.locals?p.A.locals:void 0},427:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNullable=function(t){return null===t},e.isNotNullable=function(t){return null!==t}},478:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(515)),l=i(n(536)),s=i(n(75)),a=n(427);class r extends o.default{constructor(t,e="dialog"){super({tag:e,classNames:["paste-dialog-view"]}),this.textarea=void 0,this.onSubmit=t.onSubmit,this.onClose=t.onClose,this.configureView()}configureView(){this.createTextarea(),this.createButtonList()}showModal(){var t;(null===(t=this.viewElementCreator)||void 0===t?void 0:t.element)instanceof HTMLDialogElement&&this.viewElementCreator.element.showModal()}createTextarea(){var t,e;const n=new l.default({tag:"textarea",classNames:["paste-dialog-view__area"],textContent:""});null===(t=n.element)||void 0===t||t.setAttribute("placeholder",'Paste a list of new options in a CSV-like format:\n\n title,1                   -> | title                 | 1 |\n title with whitespace,2   -> | title with whitespace | 2 |\n title , with , commas,3   -> | title , with , commas | 3 |\n title with "quotes",4     -> | title with "quotes"   | 4 |'),null===(e=this.viewElementCreator)||void 0===e||e.addInnerElement(n),n.element instanceof HTMLTextAreaElement&&(this.textarea=n.element)}createButtonList(){var t,e,n;const i={tag:"div",classNames:["button_list"],textContent:""},o=new l.default(i);null===(t=this.viewElementCreator)||void 0===t||t.addInnerElement(o);const r={tag:"button",classNames:["confirm-button"],textContent:"Confirm",callback:()=>this.handleConfirm(),imageURL:""},d=new s.default(r);(0,a.isNotNullable)(d.element)&&(null===(e=o.element)||void 0===e||e.append(d.element));const u={tag:"button",classNames:["close-button"],textContent:"Close",callback:()=>this.onClose(),imageURL:""},c=new s.default(u);(0,a.isNotNullable)(c.element)&&(null===(n=o.element)||void 0===n||n.append(c.element))}handleConfirm(){if((0,a.isNotNullable)(this.textarea)){const t=this.textarea.value.split("\n").map((t=>t.trim())).filter((t=>t.length>0));this.onSubmit(t)}this.onClose()}}e.default=r},515:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(75)),l=i(n(536)),s=n(427);e.default=class{constructor(t=this.defaultParameters){this.defaultParameters={tag:"div",classNames:[]},this.viewElementCreator=this.createView(t)}getHtmlElement(){if((0,s.isNotNullable)(this.viewElementCreator))return this.viewElementCreator.getElement()}createView(t){const e={tag:t.tag,classNames:t.classNames,textContent:"",callback:void 0};return this.viewElementCreator=new l.default(e),this.viewElementCreator}addImage(t){if((0,s.isNotNullable)(this.viewElementCreator)){const e=new l.default(t),n=e.getElement();(0,s.isNotNullable)(e)&&(0,s.isNotNullable)(n)?(t.imageURL&&n.setAttribute("src",t.imageURL),n.setAttribute("alt","404 Not Found"),console.log(e,this.viewElementCreator),this.viewElementCreator.addInnerElement(e)):console.error("img problem")}}addTextMessage(t){if((0,s.isNotNullable)(this.viewElementCreator)){const e=new l.default(t);this.viewElementCreator.addInnerElement(e)}}addButton(t){if((0,s.isNotNullable)(this.viewElementCreator)){const e=new o.default(t);this.viewElementCreator.addInnerElement(e)}}}},536:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=n(427);class o{constructor(t){this.element=void 0,this.createElement(t)}getElement(){if((0,i.isNotNullable)(this.element))return this.element}addInnerElement(t){if(t instanceof o){const e=t.getElement();e&&(0,i.isNotNullable)(this.element)&&this.element.append(e)}else t instanceof HTMLElement&&(0,i.isNotNullable)(this.element)&&this.element.append(t)}createElement(t){this.element=document.createElement(t.tag),this.setCssClasses(t.classNames),this.setTextContent(t.textContent),(0,i.isNotNullable)(t.callback)&&this.setCallback(t.callback)}setCssClasses(t=[]){(0,i.isNotNullable)(this.element)&&t.map((t=>{var e;return null===(e=this.element)||void 0===e?void 0:e.classList.add(t)}))}setTextContent(t=""){(0,i.isNotNullable)(this.element)&&(this.element.textContent=t)}setCallback(t){(0,i.isNotNullable)(this.element)&&t&&"function"==typeof t&&this.element.addEventListener("click",(e=>t(e)))}}e.default=o},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},549:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(601),o=n.n(i),l=n(314),s=n.n(l)()(o());s.push([t.id,':root{background-color:#5c5c5c;box-sizing:content-box}body{background-color:#d8f1eb;max-width:1000px;margin:auto;transform:translateY(25%);border-radius:5px}body .icon{width:24px;height:24px;pointer-events:none}body header{color:#5e35b1;text-align:center;padding:30px;font-size:36px}body button{border:1px solid #a0c0cb;background-color:#b388ff;padding:6px;border-radius:5px;cursor:pointer}body button:hover,body button:focus{background-color:#8a4fff;border-color:#2e2e2e}.index{margin:auto;align-self:center;padding:30px;display:grid;justify-items:center;grid-template-rows:auto 50px;grid-template-areas:"list-of-option list-of-option list-of-option list-of-option list-of-option list-of-option" "add-list-element__button paste-list__button clear-list__button save__button upload__button start__button"}.list-of-option{grid-area:list-of-option;display:flex;flex-direction:column;gap:10px;padding:0}.add-list-element__button,.paste-list__button,.clear-list__button,.save__button,.upload__button,.start__button{width:50px;height:50px;grid-area:auto}.add-list-element__button{grid-area:add-list-element__button}.paste-list__button{grid-area:paste-list__button}.clear-list__button{grid-area:clear-list__button}.save__button{grid-area:save__button}.upload__button{grid-area:upload__button}.start__button{grid-area:start__button}',""]);const a=s},569:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/404.jpg"},595:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/add.png"},601:t=>{t.exports=function(t){return t[1]}},637:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(515));n(846);const l=i(n(569)),s=i(n(737)),a=i(n(165)),r="not-found__button",d=l.default.toString(),u=s.default.toString(),c=a.default.toString();class m extends o.default{constructor(){super({tag:"section",classNames:["not-found"],imageURL:d,imageAlt:"404 Not Found"}),this.configureView()}configureView(){this.addImage({tag:"img",classNames:["not-found__image"],textContent:""}),this.addTextMessage({tag:"p",classNames:["not-found__text"],textContent:"Page is not founded"}),this.addButton({tag:"button",classNames:[r,"back"],textContent:"",title:"Back",callback:()=>globalThis.history.back(),imageURL:u}),this.addButton({tag:"button",classNames:[r,"to-home-page"],textContent:"",title:"Home",callback:()=>{globalThis.location.href="/"},imageURL:c})}}e.default=m},644:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(515)),l=n(427),s=i(n(374)),a=i(n(266)),r=i(n(536)),d="Start",u={title:1,point2:4,point3:2,point4:7,point5:8};class c extends o.default{constructor(t){console.log(t),super({tag:"section",classNames:["index"]}),this.configureView()}configureView(){if((0,l.isNotNullable)(this.viewElementCreator)){this.viewElementCreator.setTextContent(Object.keys(u).join("")),this.addButton({tag:"button",classNames:["picker__back_button","back"],textContent:"Back",callback:()=>globalThis.history.back(),imageURL:""}),this.addButton({tag:"button",classNames:["picker__sound-on_button"],textContent:"Sound off",callback:()=>{},imageURL:""});const t={tag:"div",classNames:["picker__timer"],textContent:""},e=new s.default(t);this.viewElementCreator.addInnerElement(e),this.addButton({tag:"button",classNames:["Pick"],textContent:d,callback:()=>l.startAnimation(),imageURL:""});const n={tag:"p",classNames:["picked_element"],textContent:d},i=new r.default(n);this.viewElementCreator.addInnerElement(i);const o={tag:"canvas",classNames:["picker_wheel"],textContent:""},l=new a.default(o,u,e,i);this.viewElementCreator.addInnerElement(l)}}}e.default=c},659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},723:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var i=n(72),o=n.n(i),l=n(825),s=n.n(l),a=n(659),r=n.n(a),d=n(56),u=n.n(d),c=n(540),m=n.n(c),h=n(113),f=n.n(h),p=n(886),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=r().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=m(),o()(p.A,g);const b=p.A&&p.A.locals?p.A.locals:void 0},737:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/back.png"},746:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=n(427);class o{static toJSON(t,e){(0,i.isNullable)(e)&&(e=2);const n={list:[],lastId:e-1};if((null==t?void 0:t.length)>0)for(const e of t)if(e.children[1]instanceof HTMLInputElement&&e.children[2]instanceof HTMLInputElement){const t=e.children[1],i=e.children[2],o={id:`#${e.id.toString()}`,title:t.value,weight:i.value};n.list.push(o)}return n}static fromJSON(t){if(console.log("fromJSON"),o.isIJSONObject(t)){console.log(t);for(const e of t.list)e.id=e.id.slice(1);return{list:t.list,lastId:t.lastId}}}static isIJSONObject(t){if("object"!=typeof t||(0,i.isNullable)(t))return!1;if(!("list"in t)||!("lastId"in t))return!1;if((0,i.isNotNullable)(t.list)&&!Array.isArray(t.list))return!1;if((0,i.isNotNullable)(t.list))for(const e of t.list)if(!this.isIElementInfo(e))return!1;return"number"==typeof t.lastId}static isIElementInfo(t){return"object"==typeof t&&!(0,i.isNullable)(t)&&"id"in t&&"title"in t&&"weight"in t&&"string"==typeof t.id&&"string"==typeof t.title&&"string"==typeof t.weight}}e.default=o},753:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/clear.png"},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var l=n.sourceMap;l&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},846:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var i=n(72),o=n.n(i),l=n(825),s=n.n(l),a=n(659),r=n.n(a),d=n(56),u=n.n(d),c=n(540),m=n.n(c),h=n(113),f=n.n(h),p=n(341),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=r().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=m(),o()(p.A,g);const b=p.A&&p.A.locals?p.A.locals:void 0},847:(t,e)=>{var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.TextBaseline=e.TextAlign=void 0,function(t){t.Center="center",t.Start="start",t.End="end",t.Left="left",t.Right="right"}(n||(e.TextAlign=n={})),function(t){t.Middle="middle",t.Top="top",t.Hanging="hanging",t.Alphabetic="alphabetic",t.Ideographic="ideographic",t.Bottom="bottom"}(i||(e.TextBaseline=i={}))},859:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(283)),l=i(n(879)),s=n(427),a=i(n(257)),r=i(n(311));n(376),e.default=class{constructor(){this.state=new l.default,this.header=new a.default,this.main=new r.default(this.state),new o.default(this.main,this.state),this.createView()}createView(){const t=this.header.getHtmlElement(),e=this.main.getHtmlElement();!(0,s.isNullable)(t)&&(0,s.isNotNullable)(e)&&document.body.append(t,e)}}},879:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(427),l=i(n(746)),s="optionList";class a{constructor(){this.fields=a.loadState()}static loadState(){const t=localStorage.getItem(s);if(console.log("loadState",t),(0,o.isNotNullable)(t))try{const e=JSON.parse(t);if("object"==typeof e&&a.isFieldsObject(e))return console.log("parsed",Object.entries(e)),new Map(Object.entries(e))}catch(t){console.error(t)}return new Map}static isFieldsObject(t){if((0,o.isNullable)(t))return!1;for(const e in t)if("string"==typeof e||"string"!=typeof t[e])return!1;return!0}static loadFromLocalStorage(){const t=localStorage.getItem(s);if((0,o.isNotNullable)(t))try{const e=JSON.parse(t);return l.default.fromJSON(e)}catch(t){console.error(t)}}static saveToLocalStorage(t,e){if(console.log("sevetolocalStrage",t,e),(0,o.isNotNullable)(t)){const n=[...new Set(t.map((t=>t.getAttribute("id"))))].map((e=>t.find((t=>t.getAttribute("id")===e)))).filter((t=>(0,o.isNotNullable)(t)));localStorage.removeItem(s),console.log("BGH",localStorage.optionList);const i=l.default.toJSON(n,e),a=JSON.stringify(i);console.log("save this",a),localStorage.setItem(s,a)}}setListCreator(t){this.listCreator=t}getElements(){var t;return null===(t=this.listCreator)||void 0===t?void 0:t.elements}getNextId(){var t;return null===(t=this.listCreator)||void 0===t?void 0:t.nextId}saveState(){const t=Object.fromEntries(this.fields.entries());localStorage.setItem(s,JSON.stringify(t)),console.log("save state",t),this.listCreator&&a.saveToLocalStorage(this.listCreator.elements,this.listCreator.nextId)}setField(t,e){this.fields.set(t,e)}getField(t){if(this.fields.has(t)){const e=this.fields.get(t);if("string"==typeof e)return e}return""}}e.default=a},886:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(601),o=n.n(i),l=n(314),s=n.n(l)()(o());s.push([t.id,":root{background-color:#5c5c5c;box-sizing:content-box}body{background-color:#d8f1eb;max-width:1000px;margin:auto;transform:translateY(25%);border-radius:5px}body .icon{width:24px;height:24px;pointer-events:none}body header{color:#5e35b1;text-align:center;padding:30px;font-size:36px}body button{border:1px solid #a0c0cb;background-color:#b388ff;padding:6px;border-radius:5px;cursor:pointer}body button:hover,body button:focus{background-color:#8a4fff;border-color:#2e2e2e}.list__element{list-style:none;display:grid;grid-template-columns:1fr 8fr 1fr 1fr;gap:10px;background-color:#b388ff;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.1);padding:10px;width:90%;margin:auto;align-items:center;color:#fff}.list__element .list__element__id{box-shadow:0 0 10px rgba(0,0,0,.1);padding:10px 10px 10px 20px;border-radius:5px}@media(max-width: 850px){.list__element{grid-template-columns:20px 8fr 80px 40px}}.list__element input{padding:10px;border-radius:5px;border:1px solid #5c5c5c;background-color:#5e35b1;color:#d8f1eb;box-shadow:0 0 10px rgba(0,0,0,.1)}.list__element input[type=number]{max-width:80px}",""]);const a=s},901:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/downloads.png"},977:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=n.p+"images/delete.png"}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var l=e[i]={id:i,exports:{}};return t[i].call(l.exports,l,l.exports,n),l.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="https://rolling-scopes-school.github.io/morven2018-JSFE2024Q4/decision-making-tool/index.js",n.nc=void 0,n(73)})();